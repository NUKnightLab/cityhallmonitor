{% extends "base.html" %}
{% load staticfiles %}

{% block content %}

<div class='reveal-modal' id='document-modal' data-reveal>
    <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    <div id="document-modal-view"></div>
</div>

<div class="panel">

    <div class="row" id="big-hed">
        <h1><span class="secondary">City Hall</span> <span class="logo-mark xxl">Monitor</span></h1>
        <h2 class="intro">We've got some city hall documents.</h2>
    </div>

    <div class="row">
        <div id="search-block" class="small-12 columns">
    
        <div class="row">
            {% include "search_form.html" %}
        </div>
    
        <div id="results-summary" class="row"></div>
    
        <div id="results-block" class="row">
            <div id="facets" class="small-12 medium-3 columns hide">
                <ul class="side-nav">
                    <li>FILTER RESULTS</li>
                    <li class="divider"></li>
                    <li role="navigation"><a>placeholder filter</a></li>
                    <li role="navigation"><a>placeholder filter</a></li>
                    <li role="navigation"><a>placeholder filter</a></li>
                    <li role="navigation"><a>placeholder filter</a></li>
                </ul>
            </div>
            <div id="search-results" class="small-12 medium-9 columns"/></div>
        </div> <!-- #results-block -->
    
        <div class="main-photo-credit">
            <p>Photo: <a href="https://www.flickr.com/photos/juggernautco/16179217449">Dan X. O'Neil</a>. Used under <a href="https://creativecommons.org/licenses/by/2.0/">Creative Commons license 2.0</a>.</p>
        </div>
    </div> <!-- .row -->
</div> <!-- .panel -->

{% endblock content %}

{% block extra_scripts %}

    <script type="text/template" id="summary-template">
        <div class="small-12 columns">
            <h5>We found <span class="num-of-results"><%= total %> results</span> for your search.</h5>
            <form>
                <input type="checkbox" value="Email me when these results change" id="email-checkbox"/><label for="email-checkbox">Email me when these results change</label>
            </form>
            <form action="#" id="search-subscribe-form">
                <div class="row collapse">
                    <div class="small-4 small-offset-3 columns">
                        <input type="text" id="search-subscribe-email" placeholder="enter email address">
                    </div>
                    <div class="small-2 columns end">
                        <input type="submit" value="Subscribe" id="search-subscribe" class="button postfix small"/>
                    </div>
                </div>
            </form>
        </div>
    </script>

    <script type="text/template" id="result-template">
        <div class="result row" id="<%= data.MatterId %>">
            <div class="small-8 columns">
                <a href="documents/<%= data.MatterAttachmentId %>">
                <p class="updated-date"><%= updated_at %></p>
                <h5><%= data.MatterTitle %></h5>
                </a>
            </div>
            <div class="more-info small-4 columns">
                <a href="/documents/<%= data.MatterAttachmentId %>" data-document="<%= id %>" class="read-more button info tiny">Read</a>
                <a class="download-pdf" href="<%= source %>">Download PDF</a>
            </div>
            <hr />
        </div>
    </script>

    <script src="//s3.amazonaws.com/s3.documentcloud.org/viewer/loader.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="{% static 'js/cityhallmonitor.js' %}"></script>

{% endblock extra_scripts %}

